#include "Operations.h"

Operations::Operations() : loadStoreOps(_isWide), arithmeticOps(_isWide), controlOps(_isWide), objectOps(_isWide) {
	initInstructions();
}

Operations::~Operations() {

}

void Operations::executeInstruction(u1 opcode) {
	(this->*funcaoGenerica[opcode])();
}

void Operations::initInstructions() {
	funcaoGenerica[0x00] = &Operations::nop;
	funcaoGenerica[0x01] = &Operations::aconst_null;
	funcaoGenerica[0x02] = &Operations::iconst_m1;
	funcaoGenerica[0x03] = &Operations::iconst_0;
	funcaoGenerica[0x04] = &Operations::iconst_1;
	funcaoGenerica[0x05] = &Operations::iconst_2;
	funcaoGenerica[0x06] = &Operations::iconst_3;
	funcaoGenerica[0x07] = &Operations::iconst_4;
	funcaoGenerica[0x08] = &Operations::iconst_5;
	funcaoGenerica[0x09] = &Operations::lconst_0;
	funcaoGenerica[0x0a] = &Operations::lconst_1;
	funcaoGenerica[0x0b] = &Operations::fconst_0;
	funcaoGenerica[0x0c] = &Operations::fconst_1;
	funcaoGenerica[0x0d] = &Operations::fconst_2;
	funcaoGenerica[0x0e] = &Operations::dconst_0;
	funcaoGenerica[0x0f] = &Operations::dconst_1;
	funcaoGenerica[0x10] = &Operations::bipush;
	funcaoGenerica[0x11] = &Operations::sipush;
	funcaoGenerica[0x12] = &Operations::ldc;
	funcaoGenerica[0x13] = &Operations::ldc_w;
	funcaoGenerica[0x14] = &Operations::ldc2_w;
	funcaoGenerica[0x15] = &Operations::iload;
	funcaoGenerica[0x16] = &Operations::lload;
	funcaoGenerica[0x17] = &Operations::fload;
	funcaoGenerica[0x18] = &Operations::dload;
	funcaoGenerica[0x19] = &Operations::aload;
	funcaoGenerica[0x1a] = &Operations::iload_0;
	funcaoGenerica[0x1b] = &Operations::iload_1;
	funcaoGenerica[0x1c] = &Operations::iload_2;
	funcaoGenerica[0x1d] = &Operations::iload_3;
	funcaoGenerica[0x1e] = &Operations::lload_0;
	funcaoGenerica[0x1f] = &Operations::lload_1;
	funcaoGenerica[0x20] = &Operations::lload_2;
	funcaoGenerica[0x21] = &Operations::lload_3;
	funcaoGenerica[0x22] = &Operations::fload_0;
	funcaoGenerica[0x23] = &Operations::fload_1;
	funcaoGenerica[0x24] = &Operations::fload_2;
	funcaoGenerica[0x25] = &Operations::fload_3;
	funcaoGenerica[0x26] = &Operations::dload_0;
	funcaoGenerica[0x27] = &Operations::dload_1;
	funcaoGenerica[0x28] = &Operations::dload_2;
	funcaoGenerica[0x29] = &Operations::dload_3;
	funcaoGenerica[0x2a] = &Operations::aload_0;
	funcaoGenerica[0x2b] = &Operations::aload_1;
	funcaoGenerica[0x2c] = &Operations::aload_2;
	funcaoGenerica[0x2d] = &Operations::aload_3;
	funcaoGenerica[0x2e] = &Operations::iaload;
	funcaoGenerica[0x2f] = &Operations::laload;
	funcaoGenerica[0x30] = &Operations::faload;
	funcaoGenerica[0x31] = &Operations::daload;
	funcaoGenerica[0x32] = &Operations::aaload;
	funcaoGenerica[0x33] = &Operations::baload;
	funcaoGenerica[0x34] = &Operations::caload;
	funcaoGenerica[0x35] = &Operations::saload;
	funcaoGenerica[0x36] = &Operations::istore;
	funcaoGenerica[0x37] = &Operations::lstore;
	funcaoGenerica[0x38] = &Operations::fstore;
	funcaoGenerica[0x39] = &Operations::dstore;
	funcaoGenerica[0x3a] = &Operations::astore;
	funcaoGenerica[0x3b] = &Operations::istore_0;
	funcaoGenerica[0x3c] = &Operations::istore_1;
	funcaoGenerica[0x3d] = &Operations::istore_2;
	funcaoGenerica[0x3e] = &Operations::istore_3;
	funcaoGenerica[0x3f] = &Operations::lstore_0;
	funcaoGenerica[0x40] = &Operations::lstore_1;
	funcaoGenerica[0x41] = &Operations::lstore_2;
	funcaoGenerica[0x42] = &Operations::lstore_3;
	funcaoGenerica[0x43] = &Operations::fstore_0;
	funcaoGenerica[0x44] = &Operations::fstore_1;
	funcaoGenerica[0x45] = &Operations::fstore_2;
	funcaoGenerica[0x46] = &Operations::fstore_3;
	funcaoGenerica[0x47] = &Operations::dstore_0;
	funcaoGenerica[0x48] = &Operations::dstore_1;
	funcaoGenerica[0x49] = &Operations::dstore_2;
	funcaoGenerica[0x4a] = &Operations::dstore_3;
	funcaoGenerica[0x4b] = &Operations::astore_0;
	funcaoGenerica[0x4c] = &Operations::astore_1;
	funcaoGenerica[0x4d] = &Operations::astore_2;
	funcaoGenerica[0x4e] = &Operations::astore_3;
	funcaoGenerica[0x4f] = &Operations::iastore;
	funcaoGenerica[0x50] = &Operations::lastore;
	funcaoGenerica[0x51] = &Operations::fastore;
	funcaoGenerica[0x52] = &Operations::dastore;
	funcaoGenerica[0x53] = &Operations::aastore;
	funcaoGenerica[0x54] = &Operations::bastore;
	funcaoGenerica[0x55] = &Operations::castore;
	funcaoGenerica[0x56] = &Operations::sastore;
	funcaoGenerica[0x57] = &Operations::pop;
	funcaoGenerica[0x58] = &Operations::pop2;
	funcaoGenerica[0x59] = &Operations::dup;
	funcaoGenerica[0x5a] = &Operations::dup_x1;
	funcaoGenerica[0x5b] = &Operations::dup_x2;
	funcaoGenerica[0x5c] = &Operations::dup2;
	funcaoGenerica[0x5d] = &Operations::dup2_x1;
	funcaoGenerica[0x5e] = &Operations::dup2_x2;
	funcaoGenerica[0x5f] = &Operations::swap;
	funcaoGenerica[0x60] = &Operations::iadd;
	funcaoGenerica[0x61] = &Operations::ladd;
	funcaoGenerica[0x62] = &Operations::fadd;
	funcaoGenerica[0x63] = &Operations::dadd;
	funcaoGenerica[0x64] = &Operations::isub;
	funcaoGenerica[0x65] = &Operations::lsub;
	funcaoGenerica[0x66] = &Operations::fsub;
	funcaoGenerica[0x67] = &Operations::dsub;
	funcaoGenerica[0x68] = &Operations::imul;
	funcaoGenerica[0x69] = &Operations::lmul;
	funcaoGenerica[0x6a] = &Operations::fmul;
	funcaoGenerica[0x6b] = &Operations::dmul;
	funcaoGenerica[0x6c] = &Operations::idiv;
	funcaoGenerica[0x6d] = &Operations::ldiv;
	funcaoGenerica[0x6e] = &Operations::fdiv;
	funcaoGenerica[0x6f] = &Operations::ddiv;
	funcaoGenerica[0x70] = &Operations::irem;
	funcaoGenerica[0x71] = &Operations::lrem;
	funcaoGenerica[0x72] = &Operations::frem;
	funcaoGenerica[0x73] = &Operations::drem;
	funcaoGenerica[0x74] = &Operations::ineg;
	funcaoGenerica[0x75] = &Operations::lneg;
	funcaoGenerica[0x76] = &Operations::fneg;
	funcaoGenerica[0x77] = &Operations::dneg;
	funcaoGenerica[0x78] = &Operations::ishl;
	funcaoGenerica[0x79] = &Operations::lshl;
	funcaoGenerica[0x7a] = &Operations::ishr;
	funcaoGenerica[0x7b] = &Operations::lshr;
	funcaoGenerica[0x7c] = &Operations::iushr;
	funcaoGenerica[0x7d] = &Operations::lushr;
	funcaoGenerica[0x7e] = &Operations::iand;
	funcaoGenerica[0x7f] = &Operations::land;
	funcaoGenerica[0x80] = &Operations::ior;
	funcaoGenerica[0x81] = &Operations::lor;
	funcaoGenerica[0x82] = &Operations::ixor;
	funcaoGenerica[0x83] = &Operations::lxor;
	funcaoGenerica[0x84] = &Operations::iinc;
	funcaoGenerica[0x85] = &Operations::i2l;
	funcaoGenerica[0x86] = &Operations::i2f;
	funcaoGenerica[0x87] = &Operations::i2d;
	funcaoGenerica[0x88] = &Operations::l2i;
	funcaoGenerica[0x89] = &Operations::l2f;
	funcaoGenerica[0x8a] = &Operations::l2d;
	funcaoGenerica[0x8b] = &Operations::f2i;
	funcaoGenerica[0x8c] = &Operations::f2l;
	funcaoGenerica[0x8d] = &Operations::f2d;
	funcaoGenerica[0x8e] = &Operations::d2i;
	funcaoGenerica[0x8f] = &Operations::d2l;
	funcaoGenerica[0x90] = &Operations::d2f;
	funcaoGenerica[0x91] = &Operations::i2b;
	funcaoGenerica[0x92] = &Operations::i2c;
	funcaoGenerica[0x93] = &Operations::i2s;
	funcaoGenerica[0x94] = &Operations::lcmp;
	funcaoGenerica[0x95] = &Operations::fcmpl;
	funcaoGenerica[0x96] = &Operations::fcmpg;
	funcaoGenerica[0x97] = &Operations::dcmpl;
	funcaoGenerica[0x98] = &Operations::dcmpg;
	funcaoGenerica[0x99] = &Operations::ifeq;
	funcaoGenerica[0x9a] = &Operations::ifne;
	funcaoGenerica[0x9b] = &Operations::iflt;
	funcaoGenerica[0x9c] = &Operations::ifge;
	funcaoGenerica[0x9d] = &Operations::ifgt;
	funcaoGenerica[0x9e] = &Operations::ifle;
	funcaoGenerica[0x9f] = &Operations::if_icmpeq;
	funcaoGenerica[0xa0] = &Operations::if_icmpne;
	funcaoGenerica[0xa1] = &Operations::if_icmplt;
	funcaoGenerica[0xa2] = &Operations::if_icmpge;
	funcaoGenerica[0xa3] = &Operations::if_icmpgt;
	funcaoGenerica[0xa4] = &Operations::if_icmple;
	funcaoGenerica[0xa5] = &Operations::if_acmpeq;
	funcaoGenerica[0xa6] = &Operations::if_acmpne;
	funcaoGenerica[0xa7] = &Operations::func_goto;
	funcaoGenerica[0xa8] = &Operations::jsr;
	funcaoGenerica[0xa9] = &Operations::ret;
	funcaoGenerica[0xaa] = &Operations::tableswitch;
	funcaoGenerica[0xab] = &Operations::lookupswitch;
	funcaoGenerica[0xac] = &Operations::ireturn;
	funcaoGenerica[0xad] = &Operations::lreturn;
	funcaoGenerica[0xae] = &Operations::freturn;
	funcaoGenerica[0xaf] = &Operations::dreturn;
	funcaoGenerica[0xb0] = &Operations::areturn;
	funcaoGenerica[0xb1] = &Operations::func_return;
	funcaoGenerica[0xb2] = &Operations::getstatic;
	funcaoGenerica[0xb3] = &Operations::putstatic;
	funcaoGenerica[0xb4] = &Operations::getfield;
	funcaoGenerica[0xb5] = &Operations::putfield;
	funcaoGenerica[0xb6] = &Operations::invokevirtual;
	funcaoGenerica[0xb7] = &Operations::invokespecial;
	funcaoGenerica[0xb8] = &Operations::invokestatic;
	funcaoGenerica[0xb9] = &Operations::invokeinterface;
	funcaoGenerica[0xbb] = &Operations::func_new;
	funcaoGenerica[0xbc] = &Operations::newarray;
	funcaoGenerica[0xbd] = &Operations::anewarray;
	funcaoGenerica[0xbe] = &Operations::arraylength;
	funcaoGenerica[0xbf] = &Operations::athrow;
	funcaoGenerica[0xc0] = &Operations::checkcast;
	funcaoGenerica[0xc1] = &Operations::instanceof;
	funcaoGenerica[0xc2] = &Operations::monitorenter;
	funcaoGenerica[0xc3] = &Operations::monitorexit;
	funcaoGenerica[0xc4] = &Operations::wide;
	funcaoGenerica[0xc5] = &Operations::multianewarray;
	funcaoGenerica[0xc6] = &Operations::ifnull;
	funcaoGenerica[0xc7] = &Operations::ifnonnull;
	funcaoGenerica[0xc8] = &Operations::goto_w;
	funcaoGenerica[0xc9] = &Operations::jsr_w;
}
